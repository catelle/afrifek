{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///home/catelle/afri-fek%20v1.2/frontend/src/components/ResizeImage.tsx"],"sourcesContent":["import Image from 'next/image';\nimport { useState, useEffect } from 'react';\n\n// Utility to resize image while keeping aspect ratio\nconst resizeImage = (src: string, maxWidth: number, maxHeight: number) => {\n  return new Promise<string>((resolve) => {\n    const img = new window.Image();\n    img.crossOrigin = 'anonymous';\n    img.onload = () => {\n      try {\n        const ratio = Math.min(maxWidth / img.width, maxHeight / img.height, 1);\n        const canvas = document.createElement('canvas');\n        canvas.width = img.width * ratio;\n        canvas.height = img.height * ratio;\n        const ctx = canvas.getContext('2d')!;\n        ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n        resolve(canvas.toDataURL());\n      } catch (error) {\n        resolve(src); // fallback to original src\n      }\n    };\n    img.onerror = () => resolve('/search.png');\n    img.src = src;\n  });\n};\n\ninterface ResizedImageProps {\n  src: string;\n  alt: string;\n  maxWidth?: number; // max width for large screens\n  maxHeight?: number; // max height\n  className?: string;\n  priority?:boolean;\n}\n\nexport const ResizedImage = ({\n  src,\n  alt,\n  maxWidth = 192,\n  maxHeight = 128,\n  className,\n  priority,\n}: ResizedImageProps) => {\n  const [resizedSrc, setResizedSrc] = useState('');\n\n  useEffect(() => {\n    if (src) {\n      resizeImage(src, maxWidth, maxHeight).then(setResizedSrc);\n    } else {\n      setResizedSrc('/search.png');\n    }\n  }, [src, maxWidth, maxHeight]);\n\n  if (!resizedSrc) {\n    return null;\n  }\n\n  return (\n    <div className={className} style={{ position: 'relative', width: maxWidth, height: maxHeight }}>\n      <Image\n        src={resizedSrc}\n        alt={alt || 'Resource image'}\n        fill\n        style={{\n          objectFit: 'contain'\n        }}\n        onError={(e) => {\n          e.currentTarget.src = '/search.png';\n        }}\n        priority={priority}\n      />\n    </div>\n  );\n};"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEA,qDAAqD;AACrD,MAAM,cAAc,CAAC,KAAa,UAAkB;IAClD,OAAO,IAAI,QAAgB,CAAC;QAC1B,MAAM,MAAM,IAAI,OAAO,KAAK;QAC5B,IAAI,WAAW,GAAG;QAClB,IAAI,MAAM,GAAG;YACX,IAAI;gBACF,MAAM,QAAQ,KAAK,GAAG,CAAC,WAAW,IAAI,KAAK,EAAE,YAAY,IAAI,MAAM,EAAE;gBACrE,MAAM,SAAS,SAAS,aAAa,CAAC;gBACtC,OAAO,KAAK,GAAG,IAAI,KAAK,GAAG;gBAC3B,OAAO,MAAM,GAAG,IAAI,MAAM,GAAG;gBAC7B,MAAM,MAAM,OAAO,UAAU,CAAC;gBAC9B,IAAI,SAAS,CAAC,KAAK,GAAG,GAAG,OAAO,KAAK,EAAE,OAAO,MAAM;gBACpD,QAAQ,OAAO,SAAS;YAC1B,EAAE,OAAO,OAAO;gBACd,QAAQ,MAAM,2BAA2B;YAC3C;QACF;QACA,IAAI,OAAO,GAAG,IAAM,QAAQ;QAC5B,IAAI,GAAG,GAAG;IACZ;AACF;AAWO,MAAM,eAAe,CAAC,EAC3B,GAAG,EACH,GAAG,EACH,WAAW,GAAG,EACd,YAAY,GAAG,EACf,SAAS,EACT,QAAQ,EACU;IAClB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,6NAAQ,EAAC;IAE7C,IAAA,8NAAS,EAAC;QACR,IAAI,KAAK;YACP,YAAY,KAAK,UAAU,WAAW,IAAI,CAAC;QAC7C,OAAO;YACL,cAAc;QAChB;IACF,GAAG;QAAC;QAAK;QAAU;KAAU;IAE7B,IAAI,CAAC,YAAY;QACf,OAAO;IACT;IAEA,qBACE,0PAAC;QAAI,WAAW;QAAW,OAAO;YAAE,UAAU;YAAY,OAAO;YAAU,QAAQ;QAAU;kBAC3F,cAAA,0PAAC,oJAAK;YACJ,KAAK;YACL,KAAK,OAAO;YACZ,IAAI;YACJ,OAAO;gBACL,WAAW;YACb;YACA,SAAS,CAAC;gBACR,EAAE,aAAa,CAAC,GAAG,GAAG;YACxB;YACA,UAAU;;;;;;;;;;;AAIlB"}},
    {"offset": {"line": 181, "column": 0}, "map": {"version":3,"sources":["file:///home/catelle/afri-fek%20v1.2/frontend/src/lib/firebase.ts"],"sourcesContent":["// Import the functions you need from the SDKs you need\nimport { initializeApp } from \"firebase/app\";\nimport { getFirestore } from \"firebase/firestore\";\nimport { getStorage } from \"firebase/storage\";\nimport { getAuth } from \"firebase/auth\";\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\n\nconst firebaseConfig = {\n\n\n\n\n\n  apiKey: \"AIzaSyDVC4CqHBMSr9quu2q9lJODSfQvITAM-SQ\",\n\n  authDomain: \"afri-fek.firebaseapp.com\",\n\n  projectId: \"afri-fek\",\n\n  storageBucket: \"afri-fek.firebasestorage.app\",\n\n  messagingSenderId: \"1032447928128\",\n\n  appId: \"1:1032447928128:web:9fa19b789243f96f6d3ca5\",\n\n  measurementId: \"G-3LPR4CK0SN\"\n\n\n\n\n\n\n\n};\n\n\n\n\n\n\n\n\n\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\n\nconst db= getFirestore(app);\nconst storage= getStorage(app);\nconst auth = getAuth();\n\nexport { db, auth , storage};\nexport default app;"],"names":[],"mappings":"AAAA,uDAAuD;;;;;;;;;;;AACvD;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;;;;;AACA,4DAA4D;AAC5D,iEAAiE;AAEjE,wCAAwC;AACxC,mEAAmE;AAEnE,MAAM,iBAAiB;IAMrB,QAAQ;IAER,YAAY;IAEZ,WAAW;IAEX,eAAe;IAEf,mBAAmB;IAEnB,OAAO;IAEP,eAAe;AAQjB;AAWA,sBAAsB;AACtB,MAAM,MAAM,IAAA,qLAAa,EAAC;AAE1B,MAAM,KAAI,IAAA,iLAAY,EAAC;AACvB,MAAM,UAAS,IAAA,kMAAU,EAAC;AAC1B,MAAM,OAAO,IAAA,6KAAO;;uCAGL"}},
    {"offset": {"line": 228, "column": 0}, "map": {"version":3,"sources":["file:///home/catelle/afri-fek%20v1.2/frontend/src/hooks/constants.ts"],"sourcesContent":["export const getDomainName = (domain: string) => {\n      const domains = {\n        'domain1': 'Droit, économie, politique',\n        'domain2': 'Lettres et sciences humaines', \n        'domain3': 'Mathématiques',\n        'domain4': 'Sciences physiques',\n        'domain5': 'Sciences de la terre et de la vie',\n        'domain6': 'Sciences de l\\'ingénieur',\n        'domain7': 'Sciences pharmaceutiques et médicales'\n      };\n      return domains[domain as keyof typeof domains] || 'N/A';\n    };\n    \n\n    export const getDomainNames = () => {\n  return [\n    { key: 'domain1', label: 'Droit, économie, politique' },\n    { key: 'domain2', label: 'Lettres et sciences humaines' },\n    { key: 'domain3', label: 'Mathématiques' },\n    { key: 'domain4', label: 'Sciences physiques' },\n    { key: 'domain5', label: 'Sciences de la terre et de la vie' },\n    { key: 'domain6', label: 'Sciences de l\\'ingénieur' },\n    { key: 'domain7', label: 'Sciences pharmaceutiques et médicales' }\n  ];\n};\n\n     export  const getDefaultImage = (type: string) => {\n        switch (type) {\n          case \"journal\":\n            return \"/search.png\";\n          case \"article\":\n            return \"/hero3.jpeg\";\n          case \"institution\":\n            return \"/academy.jpg\";\n          case \"blog\":\n            return \"/academy.jpg\";\n          default:\n            return \"https://images.unsplash.com/photo-1576091160399-112ba8d25d1f?w=800&h=600&fit=crop\";\n        }}\n\n\n\n        // lib/menu-data.ts\n\nexport const resourcesMenu = [\n  {\n    title: \"Discover Resources\",\n    items: [\n      {\n        label: \"Journals\",\n        description: \"Explore peer-reviewed journals and academic publications.\",\n        filter: \"journal\",\n      },\n      {\n        label: \"Institutions\",\n        description: \"Browse African universities, research centers, and foundations.\",\n        filter: \"institution\",\n      },\n      {\n        label: \"Blogs\",\n        description: \"Find expert commentary, articles, and creator content.\",\n        filter: \"blog\",\n      },\n      {\n        label: \"Schools\",\n        description: \"Educational academies, training centers, and e-learning platforms.\",\n        filter: \"academy\",\n      },\n      {\n        label: \"Articles\",\n        description: \"Trending research articles and scientific summaries.\",\n        filter: \"article\",\n      },\n    ],\n  },\n]\n"],"names":[],"mappings":";;;;;;;;;;AAAO,MAAM,gBAAgB,CAAC;IACxB,MAAM,UAAU;QACd,WAAW;QACX,WAAW;QACX,WAAW;QACX,WAAW;QACX,WAAW;QACX,WAAW;QACX,WAAW;IACb;IACA,OAAO,OAAO,CAAC,OAA+B,IAAI;AACpD;AAGO,MAAM,iBAAiB;IAChC,OAAO;QACL;YAAE,KAAK;YAAW,OAAO;QAA6B;QACtD;YAAE,KAAK;YAAW,OAAO;QAA+B;QACxD;YAAE,KAAK;YAAW,OAAO;QAAgB;QACzC;YAAE,KAAK;YAAW,OAAO;QAAqB;QAC9C;YAAE,KAAK;YAAW,OAAO;QAAoC;QAC7D;YAAE,KAAK;YAAW,OAAO;QAA2B;QACpD;YAAE,KAAK;YAAW,OAAO;QAAwC;KAClE;AACH;AAEa,MAAM,kBAAkB,CAAC;IAC9B,OAAQ;QACN,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT;YACE,OAAO;IACX;AAAC;AAMF,MAAM,gBAAgB;IAC3B;QACE,OAAO;QACP,OAAO;YACL;gBACE,OAAO;gBACP,aAAa;gBACb,QAAQ;YACV;YACA;gBACE,OAAO;gBACP,aAAa;gBACb,QAAQ;YACV;YACA;gBACE,OAAO;gBACP,aAAa;gBACb,QAAQ;YACV;YACA;gBACE,OAAO;gBACP,aAAa;gBACb,QAAQ;YACV;YACA;gBACE,OAAO;gBACP,aAAa;gBACb,QAAQ;YACV;SACD;IACH;CACD"}},
    {"offset": {"line": 332, "column": 0}, "map": {"version":3,"sources":["file:///home/catelle/afri-fek%20v1.2/frontend/src/components/ResourceDetailContent.tsx"],"sourcesContent":["\"use client\";\n\nimport { ExternalLink, BookOpen, Share2, Heart, Download, Eye, Calendar, MapPin, Tag, Star, Printer } from \"lucide-react\";\nimport { ResizedImage } from \"./ResizeImage\";\nimport { useEffect, useState } from \"react\";\nimport { doc, getDoc, collection, query, where, limit, getDocs, updateDoc, increment, setDoc } from \"firebase/firestore\";\nimport { db } from \"@/lib/firebase\";\nimport { getDomainName } from \"@/hooks/constants\";\n\ninterface Resource {\n  id: string;\n  name: string;\n  type: string;\n  description: string;\n  about?: string;\n  link: string;\n  country: string;\n  image: string;\n  date: string;\n  isbn?: string;\n  statut?: string;\n  detailsStatut?: string;\n  resourceUrl?: string;\n  coverageStartYear?: string;\n  coverageEndYear?: string;\n  coverageStatus?: string;\n  publisher?: string;\n  domainJournal?: string;\n  issnOnline?: string;\n  issnPrint?: string;\n  Revues?:string;\n  isbn_issn?:string;\n   'NOM DE LA REVUE'?: string;\n  'ISBN - ISSN'?:string;\n  Names?:string;\n  resourceTitle?:string;\n  organisationName?:string;\n}\n\ninterface ResourceDetailContentProps {\n  resourceId: string;\n  language?: \"fr\" | \"en\";\n  t?: any;\n  onBack?: () => void;\n}\n\nexport default function ResourceDetailContent({\n  resourceId,\n  language,\n  t,\n  onBack,\n}: ResourceDetailContentProps) {\n\n  const [resource, setResource] = useState<Resource | null>(null);\n  const [relatedResources, setRelatedResources] = useState<Resource[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [stats, setStats] = useState({ views: 0, downloads: 0, citations: 0, rating: 0 });\n  const [isRead, setIsRead] = useState(false);\n  const [isSaved, setIsSaved] = useState(false);\n\n  const printResourcePDF = () => {\n    if (!resource) return;\n\n    const printContent = `\n      <html>\n        <head>\n          <title>${resource.name} - Afri-Fek</title>\n          <style>\n            body { \n              font-family: Arial, sans-serif; \n              font-size: 11px; \n              margin: 20px; \n              color: black;\n              position: relative;\n            }\n            .watermark {\n              position: fixed;\n              top: 50%;\n              left: 50%;\n              transform: translate(-50%, -50%) rotate(-45deg);\n              width: 600px;\n              height: 600px;\n              opacity: 0.15;\n              z-index: 0;\n              pointer-events: none;\n            }\n            .content {\n              position: relative;\n              z-index: 1;\n              background: transparent;\n              padding: 20px;\n            }\n            .header {\n              display: flex;\n              align-items: center;\n              gap: 15px;\n              margin-bottom: 20px;\n              border-bottom: 3px solid #d97706;\n              padding-bottom: 15px;\n            }\n            .logo {\n              width: 80px;\n              height: 80px;\n            }\n            h1 { \n              font-size: 24px; \n              margin: 0; \n              color: #d97706; \n              font-weight: bold; \n            }\n            .subtitle {\n              font-size: 12px;\n              color: #666;\n              margin-top: 5px;\n            }\n            .section {\n              margin: 20px 0;\n              padding: 15px;\n              border: 1px solid #e5e7eb;\n              border-radius: 8px;\n              background: #f9fafb;\n            }\n            .section-title {\n              font-size: 16px;\n              font-weight: bold;\n              color: #1f2937;\n              margin-bottom: 10px;\n              border-bottom: 2px solid #d97706;\n              padding-bottom: 5px;\n            }\n            .info-grid {\n              display: grid;\n              grid-template-columns: 1fr 1fr;\n              gap: 10px;\n              margin-top: 10px;\n            }\n            .info-item {\n              display: flex;\n              justify-content: space-between;\n              padding: 8px;\n              background: white;\n              border-radius: 4px;\n            }\n            .info-label {\n              font-weight: 600;\n              color: #6b7280;\n            }\n            .info-value {\n              color: #111827;\n              font-weight: 500;\n            }\n            .badge {\n              display: inline-block;\n              padding: 4px 12px;\n              border-radius: 12px;\n              font-size: 10px;\n              font-weight: 600;\n              margin-right: 8px;\n            }\n            .badge-type {\n              background: #fef3c7;\n              color: #92400e;\n            }\n            .badge-status {\n              background: #d1fae5;\n              color: #065f46;\n            }\n            .footer {\n              margin-top: 30px;\n              padding-top: 15px;\n              border-top: 2px solid #d97706;\n              text-align: center;\n              font-size: 9px;\n              color: #666;\n            }\n            @media print { \n              body { margin: 0; }\n              .content { background: white; }\n            }\n          </style>\n        </head>\n        <body>\n          <img src=\"/logo-afri-removebg-preview.png\" class=\"watermark\" alt=\"\" />\n          <div class=\"content\">\n            <div class=\"header\">\n              <img src=\"/logo-afri-removebg-preview.png\" alt=\"Afri-Fek Logo\" class=\"logo\" />\n              <div>\n                <h1>${resource.name || resource.Revues || 'Ressource'}</h1>\n                <div class=\"subtitle\">\n                  <span class=\"badge badge-type\">${resource.type?.toUpperCase() || 'N/A'}</span>\n                  ${resource.statut ? `<span class=\"badge badge-status\">${resource.statut}</span>` : ''}\n                </div>\n              </div>\n            </div>\n\n            <div class=\"section\">\n              <div class=\"section-title\">Informations générales</div>\n              <div class=\"info-grid\">\n                ${resource.country ? `\n                  <div class=\"info-item\">\n                    <span class=\"info-label\">Pays:</span>\n                    <span class=\"info-value\">${resource.country}</span>\n                  </div>\n                ` : ''}\n                ${resource.domainJournal ? `\n                  <div class=\"info-item\">\n                    <span class=\"info-label\">Domaine:</span>\n                    <span class=\"info-value\">${getDomainName(resource.domainJournal)}</span>\n                  </div>\n                ` : ''}\n                ${resource.publisher ? `\n                  <div class=\"info-item\">\n                    <span class=\"info-label\">Éditeur:</span>\n                    <span class=\"info-value\">${resource.publisher}</span>\n                  </div>\n                ` : ''}\n                ${resource.coverageStartYear ? `\n                  <div class=\"info-item\">\n                    <span class=\"info-label\">Couverture:</span>\n                    <span class=\"info-value\">${resource.coverageStartYear} - ${resource.coverageEndYear || resource.coverageStatus || 'En cours'}</span>\n                  </div>\n                ` : ''}\n              </div>\n            </div>\n\n            ${resource.issnPrint || resource.issnOnline || resource.isbn ? `\n              <div class=\"section\">\n                <div class=\"section-title\">Identifiants</div>\n                <div class=\"info-grid\">\n                  ${resource.issnPrint ? `\n                    <div class=\"info-item\">\n                      <span class=\"info-label\">ISSN imprimé:</span>\n                      <span class=\"info-value\" style=\"font-family: monospace;\">${resource.issnPrint}</span>\n                    </div>\n                  ` : ''}\n                  ${resource.issnOnline ? `\n                    <div class=\"info-item\">\n                      <span class=\"info-label\">ISSN en ligne:</span>\n                      <span class=\"info-value\" style=\"font-family: monospace;\">${resource.issnOnline}</span>\n                    </div>\n                  ` : ''}\n                  ${resource.isbn ? `\n                    <div class=\"info-item\">\n                      <span class=\"info-label\">ISBN:</span>\n                      <span class=\"info-value\" style=\"font-family: monospace;\">${resource.isbn}</span>\n                    </div>\n                  ` : ''}\n                </div>\n              </div>\n            ` : ''}\n\n            ${resource.description ? `\n              <div class=\"section\">\n                <div class=\"section-title\">Description</div>\n                <p style=\"line-height: 1.6; color: #374151;\">${resource.description}</p>\n              </div>\n            ` : ''}\n\n            ${resource.about ? `\n              <div class=\"section\">\n                <div class=\"section-title\">Informations supplémentaires</div>\n                <p style=\"line-height: 1.6; color: #374151;\">${resource.about}</p>\n              </div>\n            ` : ''}\n\n            ${resource.link || resource.resourceUrl ? `\n              <div class=\"section\">\n                <div class=\"section-title\">Accès à la ressource</div>\n                <p style=\"word-break: break-all; color: #2563eb;\">${resource.link || resource.resourceUrl}</p>\n              </div>\n            ` : ''}\n\n            <div class=\"footer\">\n              <p><strong>Document officiel généré par AFRI-FEK</strong> - Plateforme de référence pour la recherche en santé africaine</p>\n              <p>Généré le ${new Date().toLocaleDateString('fr-FR')} depuis <strong>afrifek.org</strong> | Ce document est protégé et authentifié</p>\n            </div>\n          </div>\n        </body>\n      </html>\n    `;\n\n    const printWindow = window.open('', '_blank');\n    if (printWindow) {\n      printWindow.document.write(printContent);\n      printWindow.document.close();\n      setTimeout(() => {\n        printWindow.focus();\n        printWindow.print();\n      }, 250);\n    }\n  };\n\n  useEffect(() => {\n    const fetchResource = async () => {\n      try {\n        console.log('Fetching resource with ID:', resourceId);\n        \n        const apiUrl = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3001/api';\n        const response = await fetch(`${apiUrl}/resources/${resourceId}`);\n        \n        if (response.ok) {\n          const resourceData = await response.json();\n          console.log('Found resource:', resourceData);\n          setResource(resourceData);\n          \n          // Set default stats\n          setStats({\n            views: 0,\n            downloads: 0,\n            citations: 0,\n            rating: 0\n          });\n          \n          const readKey = `read_${resourceId}`;\n          setIsRead(localStorage.getItem(readKey) === 'true');\n          \n          const savedResources = JSON.parse(localStorage.getItem('savedResources') || '[]');\n          setIsSaved(savedResources.some((r: any) => r.id === resourceId));\n          \n          // Fetch related resources\n          try {\n            const relatedResponse = await fetch(`${apiUrl}/resources?type=${resourceData.type}&limit=4`);\n            if (relatedResponse.ok) {\n              const relatedData = await relatedResponse.json();\n              const related = Array.isArray(relatedData) ? relatedData : relatedData.resources || [];\n              setRelatedResources(related.filter((r: any) => r.id !== resourceId));\n            }\n          } catch (relatedError) {\n            console.log('Error fetching related resources:', relatedError);\n          }\n        } else {\n          console.log('Resource not found:', resourceId);\n        }\n      } catch (error) {\n        console.error('Error fetching resource:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (resourceId) {\n      fetchResource();\n    }\n  }, [resourceId]);\n\n  if (loading) {\n    return (\n      <div className=\"max-w-7xl mx-auto px-4 py-8 mt-[112px]\">\n        <div className=\"animate-pulse\">\n          <div className=\"h-8 bg-gray-200 rounded w-1/3 mb-4\"></div>\n          <div className=\"h-4 bg-gray-200 rounded w-2/3 mb-2\"></div>\n          <div className=\"h-4 bg-gray-200 rounded w-1/2\"></div>\n        </div>\n      </div>\n    );\n  }\n\n  if (!resource) {\n    return (\n      <div className=\"max-w-7xl mx-auto px-4 py-8 mt-[22px]\">\n        <div className=\"text-center\">\n          <h1 className=\"text-2xl font-bold text-gray-900 mb-4\">Ressource non trouvée</h1>\n          <p className=\"text-gray-600 mb-4\">La ressource avec l'ID \"{resourceId}\" n'existe pas ou a été supprimée.</p>\n          <p className=\"text-sm text-gray-500 mb-4\">Vérifiez la console pour plus de détails de débogage.</p>\n          <button onClick={onBack} className=\"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition\">\n            Retour à la liste\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <main className=\"max-w-7xl mx-auto px-4 py-8 mt-[22px]\">\n      {/* Breadcrumb & Back Button */}\n      <div className=\"flex items-center justify-between mb-6\">\n        <nav className=\"flex items-center space-x-2 text-sm text-gray-600\">\n          <button onClick={() => window.history.back()} className=\"hover:text-amber-600 transition\">Accueil</button>\n          <span>/</span>\n          <span className=\"text-gray-900 font-medium\">{resource.resourceTitle || resource.name || resource.organisationName || resource.Revues||resource.Names || resource['NOM DE LA REVUE']}</span>\n        </nav>\n        <button \n          onClick={() => window.history.back()}\n          className=\"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition text-sm font-medium\"\n        >\n          ← Retour\n        </button>\n      </div>\n\n      {/* Domain Articles Section */}\n      {resource.domainJournal && (\n        <div className=\"bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-200 rounded-lg p-6 mb-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h2 className=\"text-xl font-bold text-gray-900 mb-2\">Domaine: {getDomainName(resource.domainJournal)}</h2>\n              <p className=\"text-gray-600\">Découvrez d'autres ressources dans le même domaine</p>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <BookOpen className=\"w-8 h-8 text-amber-600\" />\n              <span className=\"text-2xl font-bold text-amber-600\">{relatedResources.length}+</span>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-8\">\n        {/* Main Content */}\n        <div className=\"lg:col-span-3\">\n          {/* Header Section */}\n          <div className=\"bg-white border border-gray-200 rounded-lg shadow-sm mb-6\">\n            <div className=\"p-6\">\n              <div className=\"flex items-start gap-6\">\n                {/* Image */}\n                <div className=\"w-48 h-32 flex-shrink-0 overflow-hidden rounded-md border border-gray-200\">\n                  <ResizedImage\n                    src={resource.image || \"/search.png\"}\n                    alt={resource.name}\n                    className=\"w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-200\"\n                  />\n                </div>\n\n                {/* Resource details */}\n                <div className=\"flex-1 min-w-0\">\n                  <h1 className=\"text-3xl font-bold text-gray-900 mb-3\">\n                            {resource.resourceTitle || resource.name || resource.organisationName || resource.Revues||resource.Names || resource['NOM DE LA REVUE']}\n                  </h1>\n\n                  <div className=\"flex items-center gap-3 mb-4\">\n                    <span className={`px-3 py-1 text-sm font-medium rounded-full ${\n                      resource.type === \"article\" ? \"bg-blue-100 text-blue-700\" :\n                      resource.type === \"journal\" ? \"bg-amber-100 text-amber-700\" :\n                      resource.type === \"ouvrage\" ? \"bg-purple-100 text-purple-700\" :\n                      \"bg-gray-100 text-gray-700\"\n                    }`}>\n                      <Tag className=\"w-4 h-4 inline mr-1\" />\n                      {resource.type.toUpperCase()}\n                    </span>\n\n                    {resource.statut && (\n                      <span className={`px-3 py-1 text-sm font-medium rounded-full ${\n                        resource.statut === \"ACTIVE\" ? \"bg-green-100 text-green-700\" : \"bg-red-100 text-red-700\"\n                      }`}>\n                        {resource.statut}\n                      </span>\n                    )}\n                  </div>\n\n                  <div className=\"flex items-center gap-4 text-sm text-gray-600 mb-4\">\n                    {resource.country && (\n                      <div className=\"flex items-center gap-1\">\n                        <MapPin className=\"w-4 h-4\" />\n                        {resource.country}\n                      </div>\n                    )}\n                    {resource.date && (\n                      <div className=\"flex items-center gap-1\">\n                        <Calendar className=\"w-4 h-4\" />\n                        {new Date(resource.date).getFullYear()}\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Quick Actions */}\n                  <div className=\"flex items-center gap-3\">\n                    <a\n                      href={resource.link || resource.resourceUrl}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      className=\"inline-flex items-center gap-2 px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition\"\n                    >\n                      <ExternalLink className=\"w-4 h-4\" />\n                      Accéder à la ressource\n                    </a>\n                    <button \n                      onClick={async () => {\n                        const newSavedState = !isSaved;\n                        setIsSaved(newSavedState);\n                        \n                        const savedResources = JSON.parse(localStorage.getItem('savedResources') || '[]');\n                        if (newSavedState) {\n                          if (!savedResources.some((r: any) => r.id === resourceId)) {\n                            savedResources.push({ \n                              id: resourceId, \n                              name: resource.name,\n                              type: resource.type,\n                              country: resource.country,\n                              image: resource.image,\n                              savedAt: new Date().toISOString() \n                            });\n                            localStorage.setItem('savedResources', JSON.stringify(savedResources));\n                          }\n                        } else {\n                          const filtered = savedResources.filter((r: any) => r.id !== resourceId);\n                          localStorage.setItem('savedResources', JSON.stringify(filtered));\n                        }\n                        \n                        alert(newSavedState ? 'Ressource ajoutée dans vos favoris!' : 'Ressource retirée des favoris');\n                        try {\n                          await setDoc(doc(db, 'resourceStats', resourceId), { saves: increment(newSavedState ? 1 : -1) }, { merge: true });\n                        } catch (error) {\n                          console.error('Error updating saves:', error);\n                        }\n                      }}\n                      className={`inline-flex items-center gap-2 px-4 py-2 border rounded-lg transition ${isSaved ? 'bg-red-50 border-red-300 text-red-700' : 'border-gray-300 hover:bg-gray-50'}`}\n                    >\n                      <Heart className={`w-4 h-4 ${isSaved ? 'fill-current' : ''}`} />\n                      {isSaved ? 'Sauvegardé' : 'Sauvegarder'}\n                    </button>\n                    <button \n                      onClick={async () => {\n                        if (navigator.share) {\n                          try {\n                            await navigator.share({\n                              title: resource.name || 'Ressource Afri-Fek',\n                              text: resource.description || 'Découvrez cette ressource sur Afri-Fek',\n                              url: window.location.href\n                            });\n                          } catch (error) {\n                            console.log('Share cancelled');\n                          }\n                        } else {\n                          navigator.clipboard.writeText(window.location.href);\n                          alert('Lien copié dans le presse-papiers!');\n                        }\n                      }}\n                      className=\"inline-flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition\"\n                    >\n                      <Share2 className=\"w-4 h-4\" />\n                      Partager\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Metadata Grid */}\n          <div className=\"bg-white border border-gray-200 rounded-lg shadow-sm mb-6\">\n            <div className=\"p-6\">\n              <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Informations détaillées</h2>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div className=\"space-y-4\">\n                  <h3 className=\"text-sm font-semibold text-gray-900 uppercase tracking-wide border-b pb-2\">\n                    Détails de publication\n                  </h3>\n                  {resource.country && (\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-sm text-gray-600\">Pays:</span>\n                      <span className=\"text-sm font-medium text-gray-900\">{resource.country}</span>\n                    </div>\n                  )}\n                  {(resource.coverageStartYear || resource.date) && (\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-sm text-gray-600\">Couverture:</span>\n                      <span className=\"text-sm font-medium text-gray-900\">\n                        {resource.coverageStartYear || new Date(resource.date).getFullYear()} - {resource.coverageEndYear || resource.coverageStatus || \"En cours\"}\n                      </span>\n                    </div>\n                  )}\n                  {resource.publisher && (\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-sm text-gray-600\">Éditeur:</span>\n                      <span className=\"text-sm font-medium text-gray-900\">{resource.publisher}</span>\n                    </div>\n                  )}\n                  {resource.domainJournal && (\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-sm text-gray-600\">Domaine:</span>\n                      <span className=\"text-sm font-medium text-gray-900\">{resource.domainJournal}</span>\n                    </div>\n                  )}\n                </div>\n\n                <div className=\"space-y-4\">\n                  <h3 className=\"text-sm font-semibold text-gray-900 uppercase tracking-wide border-b pb-2\">\n                    Identifiants\n                  </h3>\n                  {resource.issnPrint && (\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-sm text-gray-600\">ISSN imprimé:</span>\n                      <span className=\"text-sm font-medium text-gray-900 font-mono\">{resource.issnPrint}</span>\n                    </div>\n                  )}\n                   {!resource.issnPrint && resource['NOM DE LA REVUE'] && (\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-sm text-gray-600\">ISSN imprimé:</span>\n                      <span className=\"text-sm font-medium text-gray-900 font-mono\">{resource['NOM DE LA REVUE']}</span>\n                    </div>\n                  )}\n                  {resource.isbn_issn && !resource.issnPrint && (\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-sm text-gray-600\">ISSN imprimé:</span>\n                      <span className=\"text-sm font-medium text-gray-900 font-mono\">{resource.issnPrint}</span>\n                    </div>\n                  )}\n                  {resource.issnOnline && (\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-sm text-gray-600\">ISSN en ligne:</span>\n                      <span className=\"text-sm font-medium text-gray-900 font-mono\">{resource.issnOnline}</span>\n                    </div>\n                  )}\n                  {resource.isbn && (\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-sm text-gray-600\">ISBN:</span>\n                      <span className=\"text-sm font-medium text-gray-900 font-mono\">{resource.isbn}</span>\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Description Section */}\n          <div className=\"bg-white border border-gray-200 rounded-lg shadow-sm mb-6\">\n            <div className=\"p-6\">\n              <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Description</h2>\n              <div className=\"text-gray-700 leading-relaxed\">\n                {resource.description ? (\n                  <p>{resource.description}</p>\n                ) : (\n                  <div className=\"text-center py-8\">\n                    <BookOpen className=\"w-12 h-12 text-gray-400 mx-auto mb-3\" />\n                    <p className=\"text-gray-500\">Aucune description disponible pour cette ressource.</p>\n                    <p className=\"text-sm text-gray-400 mt-2\">Les informations détaillées peuvent être disponibles via le lien de la ressource.</p>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n\n          {/* About Section */}\n          {resource.about && (\n            <div className=\"bg-white border border-gray-200 rounded-lg shadow-sm\">\n              <div className=\"p-6\">\n                <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Informations supplémentaires</h2>\n                <p className=\"text-gray-700 leading-relaxed\">{resource.about}</p>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Sidebar */}\n        <div className=\"lg:col-span-1\">\n          {/* Resource Overview */}\n          <div className=\"bg-gradient-to-br from-amber-50 to-orange-50 border border-amber-200 rounded-lg shadow-sm mb-6\">\n            <div className=\"p-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Aperçu de la ressource</h3>\n              <div className=\"space-y-3\">\n                <div className=\"flex items-center gap-2\">\n                  <Tag className=\"w-4 h-4 text-amber-600\" />\n                  <span className=\"text-sm font-medium\">{resource.type}</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <MapPin className=\"w-4 h-4 text-amber-600\" />\n                  <span className=\"text-sm\">{resource.country}</span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <Calendar className=\"w-4 h-4 text-amber-600\" />\n                  <span className=\"text-sm\">{resource.date ? new Date(resource.date).getFullYear() : 'Date non spécifiée'}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Quick Actions */}\n          <div className=\"bg-white border border-gray-200 rounded-lg shadow-sm mb-6\">\n            <div className=\"p-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Actions rapides</h3>\n              <div className=\"space-y-3\">\n                <button \n                  onClick={() => window.history.back()}\n                  className=\"w-full flex items-center gap-2 px-3 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 transition\"\n                >\n                  ← Retour à la liste\n                </button>\n                <button \n                  onClick={async () => {\n                    printResourcePDF();\n                    try {\n                      await setDoc(doc(db, 'resourceStats', resourceId), { downloads: increment(1) }, { merge: true });\n                      setStats(prev => ({ ...prev, downloads: prev.downloads + 1 }));\n                    } catch (error) {\n                      console.error('Error tracking download:', error);\n                    }\n                  }}\n                  className=\"w-full flex items-center gap-2 px-3 py-2 text-sm bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition\"\n                >\n                  <Printer className=\"w-4 h-4\" />\n                  Télécharger PDF\n                </button>\n                <button \n                  onClick={() => {\n                    const newReadState = !isRead;\n                    setIsRead(newReadState);\n                    localStorage.setItem(`read_${resourceId}`, String(newReadState));\n                    alert(newReadState ? 'Ressource marquée comme lue!' : 'Marque de lecture retirée');\n                  }}\n                  className={`w-full flex items-center gap-2 px-3 py-2 text-sm border rounded-lg transition ${isRead ? 'bg-green-50 border-green-300 text-green-700' : 'border-gray-300 hover:bg-gray-50'}`}\n                >\n                  <Eye className={`w-4 h-4 ${isRead ? 'fill-current' : ''}`} />\n                  {isRead ? 'Marqué comme lu' : 'Marquer comme lu'}\n                </button>\n              </div>\n            </div>\n          </div>\n\n          {/* Resource Stats */}\n          <div className=\"bg-white border border-gray-200 rounded-lg shadow-sm mb-6\">\n            <div className=\"p-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Statistiques</h3>\n              <div className=\"space-y-3\">\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-sm text-gray-600\">Vues</span>\n                  <span className=\"text-sm font-medium text-gray-900\">{stats.views.toLocaleString()}</span>\n                </div>\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-sm text-gray-600\">Téléchargements</span>\n                  <span className=\"text-sm font-medium text-gray-900\">{stats.downloads.toLocaleString()}</span>\n                </div>\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-sm text-gray-600\">Citations</span>\n                  <span className=\"text-sm font-medium text-gray-900\">{stats.citations.toLocaleString()}</span>\n                </div>\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-sm text-gray-600\">Note</span>\n                  <div className=\"flex items-center gap-1\">\n                    {[1,2,3,4,5].map(i => (\n                      <Star key={i} className={`w-3 h-3 ${i <= Math.round(stats.rating) ? 'text-yellow-400 fill-current' : 'text-gray-300'}`} />\n                    ))}\n                    <span className=\"text-sm text-gray-600 ml-1\">{stats.rating > 0 ? stats.rating.toFixed(1) : 'N/A'}</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Related Resources */}\n          <div className=\"bg-white border border-gray-200 rounded-lg shadow-sm mb-6\">\n            <div className=\"p-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Ressources similaires</h3>\n              <div className=\"space-y-3\">\n                {relatedResources.length > 0 ? (\n                  relatedResources.slice(0, 3).map((related) => (\n                    <div \n                      key={related.id} \n                      onClick={() => window.location.href = `/resource/${related.id}`}\n                      className=\"flex gap-3 p-3 border border-gray-100 rounded-lg hover:bg-gray-50 transition cursor-pointer\"\n                    >\n                      <div className=\"w-12 h-12 flex-shrink-0 overflow-hidden rounded border bg-gray-100\">\n                        <ResizedImage\n                          src={related.image || \"/search.png\"}\n                          alt={related.name || 'Resource'}\n                          className=\"w-full h-full object-cover\"\n                        />\n                      </div>\n                      <div className=\"flex-1 min-w-0\">\n                        <h4 className=\"text-sm font-medium text-gray-900 truncate\">{related.name}</h4>\n                        <p className=\"text-xs text-gray-600 capitalize\">{related.type}</p>\n                        <p className=\"text-xs text-gray-500\">{related.country}</p>\n                      </div>\n                    </div>\n                  ))\n                ) : (\n                  <div className=\"text-center py-4\">\n                    <BookOpen className=\"w-8 h-8 text-gray-400 mx-auto mb-2\" />\n                    <p className=\"text-sm text-gray-500\">Aucune ressource similaire trouvée</p>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n\n          {/* Popular Domains */}\n          <div className=\"bg-white border border-gray-200 rounded-lg shadow-sm\">\n            <div className=\"p-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Domaines populaires</h3>\n              <div className=\"space-y-2\">\n                {[\n                  { key: 'domain1', name: getDomainName('domain1') },\n                  { key: 'domain2', name: getDomainName('domain2') },\n                  { key: 'domain3', name: getDomainName('domain3') },\n                  { key: 'domain4', name: getDomainName('domain4') },\n                  { key: 'domain5', name: getDomainName('domain5') }\n                ].map((domain) => {\n                  const count = relatedResources.filter(r => r.domainJournal === domain.key).length;\n                  return (\n                    <div \n                      key={domain.key} \n                      onClick={() => window.location.href = `/resources?domain=${domain.key}`}\n                      className=\"flex justify-between items-center p-2 rounded hover:bg-gray-50 cursor-pointer\"\n                    >\n                      <span className=\"text-sm text-gray-700\">{domain.name.substring(0, 30)}...</span>\n                      <span className=\"text-xs bg-amber-100 text-amber-700 px-2 py-1 rounded-full\">{count || 0}</span>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </main>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAPA;;;;;;;;AA8Ce,SAAS,sBAAsB,EAC5C,UAAU,EACV,QAAQ,EACR,CAAC,EACD,MAAM,EACqB;IAE3B,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,6NAAQ,EAAkB;IAC1D,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,6NAAQ,EAAa,EAAE;IACvE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,6NAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,6NAAQ,EAAC;QAAE,OAAO;QAAG,WAAW;QAAG,WAAW;QAAG,QAAQ;IAAE;IACrF,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,6NAAQ,EAAC;IACrC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,6NAAQ,EAAC;IAEvC,MAAM,mBAAmB;QACvB,IAAI,CAAC,UAAU;QAEf,MAAM,eAAe,CAAC;;;iBAGT,EAAE,SAAS,IAAI,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;oBAyHb,EAAE,SAAS,IAAI,IAAI,SAAS,MAAM,IAAI,YAAY;;iDAErB,EAAE,SAAS,IAAI,EAAE,iBAAiB,MAAM;kBACvE,EAAE,SAAS,MAAM,GAAG,CAAC,iCAAiC,EAAE,SAAS,MAAM,CAAC,OAAO,CAAC,GAAG,GAAG;;;;;;;;gBAQxF,EAAE,SAAS,OAAO,GAAG,CAAC;;;6CAGO,EAAE,SAAS,OAAO,CAAC;;gBAEhD,CAAC,GAAG,GAAG;gBACP,EAAE,SAAS,aAAa,GAAG,CAAC;;;6CAGC,EAAE,IAAA,sJAAa,EAAC,SAAS,aAAa,EAAE;;gBAErE,CAAC,GAAG,GAAG;gBACP,EAAE,SAAS,SAAS,GAAG,CAAC;;;6CAGK,EAAE,SAAS,SAAS,CAAC;;gBAElD,CAAC,GAAG,GAAG;gBACP,EAAE,SAAS,iBAAiB,GAAG,CAAC;;;6CAGH,EAAE,SAAS,iBAAiB,CAAC,GAAG,EAAE,SAAS,eAAe,IAAI,SAAS,cAAc,IAAI,WAAW;;gBAEjI,CAAC,GAAG,GAAG;;;;YAIX,EAAE,SAAS,SAAS,IAAI,SAAS,UAAU,IAAI,SAAS,IAAI,GAAG,CAAC;;;;kBAI1D,EAAE,SAAS,SAAS,GAAG,CAAC;;;+EAGqC,EAAE,SAAS,SAAS,CAAC;;kBAElF,CAAC,GAAG,GAAG;kBACP,EAAE,SAAS,UAAU,GAAG,CAAC;;;+EAGoC,EAAE,SAAS,UAAU,CAAC;;kBAEnF,CAAC,GAAG,GAAG;kBACP,EAAE,SAAS,IAAI,GAAG,CAAC;;;+EAG0C,EAAE,SAAS,IAAI,CAAC;;kBAE7E,CAAC,GAAG,GAAG;;;YAGb,CAAC,GAAG,GAAG;;YAEP,EAAE,SAAS,WAAW,GAAG,CAAC;;;6DAGuB,EAAE,SAAS,WAAW,CAAC;;YAExE,CAAC,GAAG,GAAG;;YAEP,EAAE,SAAS,KAAK,GAAG,CAAC;;;6DAG6B,EAAE,SAAS,KAAK,CAAC;;YAElE,CAAC,GAAG,GAAG;;YAEP,EAAE,SAAS,IAAI,IAAI,SAAS,WAAW,GAAG,CAAC;;;kEAGW,EAAE,SAAS,IAAI,IAAI,SAAS,WAAW,CAAC;;YAE9F,CAAC,GAAG,GAAG;;;;2BAIQ,EAAE,IAAI,OAAO,kBAAkB,CAAC,SAAS;;;;;IAKhE,CAAC;QAED,MAAM,cAAc,OAAO,IAAI,CAAC,IAAI;QACpC,IAAI,aAAa;YACf,YAAY,QAAQ,CAAC,KAAK,CAAC;YAC3B,YAAY,QAAQ,CAAC,KAAK;YAC1B,WAAW;gBACT,YAAY,KAAK;gBACjB,YAAY,KAAK;YACnB,GAAG;QACL;IACF;IAEA,IAAA,8NAAS,EAAC;QACR,MAAM,gBAAgB;YACpB,IAAI;gBACF,QAAQ,GAAG,CAAC,8BAA8B;gBAE1C,MAAM,SAAS,iEAAmC;gBAClD,MAAM,WAAW,MAAM,MAAM,GAAG,OAAO,WAAW,EAAE,YAAY;gBAEhE,IAAI,SAAS,EAAE,EAAE;oBACf,MAAM,eAAe,MAAM,SAAS,IAAI;oBACxC,QAAQ,GAAG,CAAC,mBAAmB;oBAC/B,YAAY;oBAEZ,oBAAoB;oBACpB,SAAS;wBACP,OAAO;wBACP,WAAW;wBACX,WAAW;wBACX,QAAQ;oBACV;oBAEA,MAAM,UAAU,CAAC,KAAK,EAAE,YAAY;oBACpC,UAAU,aAAa,OAAO,CAAC,aAAa;oBAE5C,MAAM,iBAAiB,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,qBAAqB;oBAC5E,WAAW,eAAe,IAAI,CAAC,CAAC,IAAW,EAAE,EAAE,KAAK;oBAEpD,0BAA0B;oBAC1B,IAAI;wBACF,MAAM,kBAAkB,MAAM,MAAM,GAAG,OAAO,gBAAgB,EAAE,aAAa,IAAI,CAAC,QAAQ,CAAC;wBAC3F,IAAI,gBAAgB,EAAE,EAAE;4BACtB,MAAM,cAAc,MAAM,gBAAgB,IAAI;4BAC9C,MAAM,UAAU,MAAM,OAAO,CAAC,eAAe,cAAc,YAAY,SAAS,IAAI,EAAE;4BACtF,oBAAoB,QAAQ,MAAM,CAAC,CAAC,IAAW,EAAE,EAAE,KAAK;wBAC1D;oBACF,EAAE,OAAO,cAAc;wBACrB,QAAQ,GAAG,CAAC,qCAAqC;oBACnD;gBACF,OAAO;oBACL,QAAQ,GAAG,CAAC,uBAAuB;gBACrC;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,4BAA4B;YAC5C,SAAU;gBACR,WAAW;YACb;QACF;QAEA,IAAI,YAAY;YACd;QACF;IACF,GAAG;QAAC;KAAW;IAEf,IAAI,SAAS;QACX,qBACE,0PAAC;YAAI,WAAU;sBACb,cAAA,0PAAC;gBAAI,WAAU;;kCACb,0PAAC;wBAAI,WAAU;;;;;;kCACf,0PAAC;wBAAI,WAAU;;;;;;kCACf,0PAAC;wBAAI,WAAU;;;;;;;;;;;;;;;;;IAIvB;IAEA,IAAI,CAAC,UAAU;QACb,qBACE,0PAAC;YAAI,WAAU;sBACb,cAAA,0PAAC;gBAAI,WAAU;;kCACb,0PAAC;wBAAG,WAAU;kCAAwC;;;;;;kCACtD,0PAAC;wBAAE,WAAU;;4BAAqB;4BAAyB;4BAAW;;;;;;;kCACtE,0PAAC;wBAAE,WAAU;kCAA6B;;;;;;kCAC1C,0PAAC;wBAAO,SAAS;wBAAQ,WAAU;kCAA6E;;;;;;;;;;;;;;;;;IAMxH;IAEA,qBACE,0PAAC;QAAK,WAAU;;0BAEd,0PAAC;gBAAI,WAAU;;kCACb,0PAAC;wBAAI,WAAU;;0CACb,0PAAC;gCAAO,SAAS,IAAM,OAAO,OAAO,CAAC,IAAI;gCAAI,WAAU;0CAAkC;;;;;;0CAC1F,0PAAC;0CAAK;;;;;;0CACN,0PAAC;gCAAK,WAAU;0CAA6B,SAAS,aAAa,IAAI,SAAS,IAAI,IAAI,SAAS,gBAAgB,IAAI,SAAS,MAAM,IAAE,SAAS,KAAK,IAAI,QAAQ,CAAC,kBAAkB;;;;;;;;;;;;kCAErL,0PAAC;wBACC,SAAS,IAAM,OAAO,OAAO,CAAC,IAAI;wBAClC,WAAU;kCACX;;;;;;;;;;;;YAMF,SAAS,aAAa,kBACrB,0PAAC;gBAAI,WAAU;0BACb,cAAA,0PAAC;oBAAI,WAAU;;sCACb,0PAAC;;8CACC,0PAAC;oCAAG,WAAU;;wCAAuC;wCAAU,IAAA,sJAAa,EAAC,SAAS,aAAa;;;;;;;8CACnG,0PAAC;oCAAE,WAAU;8CAAgB;;;;;;;;;;;;sCAE/B,0PAAC;4BAAI,WAAU;;8CACb,0PAAC,sOAAQ;oCAAC,WAAU;;;;;;8CACpB,0PAAC;oCAAK,WAAU;;wCAAqC,iBAAiB,MAAM;wCAAC;;;;;;;;;;;;;;;;;;;;;;;;0BAMrF,0PAAC;gBAAI,WAAU;;kCAEb,0PAAC;wBAAI,WAAU;;0CAEb,0PAAC;gCAAI,WAAU;0CACb,cAAA,0PAAC;oCAAI,WAAU;8CACb,cAAA,0PAAC;wCAAI,WAAU;;0DAEb,0PAAC;gDAAI,WAAU;0DACb,cAAA,0PAAC,6JAAY;oDACX,KAAK,SAAS,KAAK,IAAI;oDACvB,KAAK,SAAS,IAAI;oDAClB,WAAU;;;;;;;;;;;0DAKd,0PAAC;gDAAI,WAAU;;kEACb,0PAAC;wDAAG,WAAU;kEACH,SAAS,aAAa,IAAI,SAAS,IAAI,IAAI,SAAS,gBAAgB,IAAI,SAAS,MAAM,IAAE,SAAS,KAAK,IAAI,QAAQ,CAAC,kBAAkB;;;;;;kEAGjJ,0PAAC;wDAAI,WAAU;;0EACb,0PAAC;gEAAK,WAAW,CAAC,2CAA2C,EAC3D,SAAS,IAAI,KAAK,YAAY,8BAC9B,SAAS,IAAI,KAAK,YAAY,gCAC9B,SAAS,IAAI,KAAK,YAAY,kCAC9B,6BACA;;kFACA,0PAAC,mNAAG;wEAAC,WAAU;;;;;;oEACd,SAAS,IAAI,CAAC,WAAW;;;;;;;4DAG3B,SAAS,MAAM,kBACd,0PAAC;gEAAK,WAAW,CAAC,2CAA2C,EAC3D,SAAS,MAAM,KAAK,WAAW,gCAAgC,2BAC/D;0EACC,SAAS,MAAM;;;;;;;;;;;;kEAKtB,0PAAC;wDAAI,WAAU;;4DACZ,SAAS,OAAO,kBACf,0PAAC;gEAAI,WAAU;;kFACb,0PAAC,gOAAM;wEAAC,WAAU;;;;;;oEACjB,SAAS,OAAO;;;;;;;4DAGpB,SAAS,IAAI,kBACZ,0PAAC;gEAAI,WAAU;;kFACb,0PAAC,kOAAQ;wEAAC,WAAU;;;;;;oEACnB,IAAI,KAAK,SAAS,IAAI,EAAE,WAAW;;;;;;;;;;;;;kEAM1C,0PAAC;wDAAI,WAAU;;0EACb,0PAAC;gEACC,MAAM,SAAS,IAAI,IAAI,SAAS,WAAW;gEAC3C,QAAO;gEACP,KAAI;gEACJ,WAAU;;kFAEV,0PAAC,kPAAY;wEAAC,WAAU;;;;;;oEAAY;;;;;;;0EAGtC,0PAAC;gEACC,SAAS;oEACP,MAAM,gBAAgB,CAAC;oEACvB,WAAW;oEAEX,MAAM,iBAAiB,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,qBAAqB;oEAC5E,IAAI,eAAe;wEACjB,IAAI,CAAC,eAAe,IAAI,CAAC,CAAC,IAAW,EAAE,EAAE,KAAK,aAAa;4EACzD,eAAe,IAAI,CAAC;gFAClB,IAAI;gFACJ,MAAM,SAAS,IAAI;gFACnB,MAAM,SAAS,IAAI;gFACnB,SAAS,SAAS,OAAO;gFACzB,OAAO,SAAS,KAAK;gFACrB,SAAS,IAAI,OAAO,WAAW;4EACjC;4EACA,aAAa,OAAO,CAAC,kBAAkB,KAAK,SAAS,CAAC;wEACxD;oEACF,OAAO;wEACL,MAAM,WAAW,eAAe,MAAM,CAAC,CAAC,IAAW,EAAE,EAAE,KAAK;wEAC5D,aAAa,OAAO,CAAC,kBAAkB,KAAK,SAAS,CAAC;oEACxD;oEAEA,MAAM,gBAAgB,wCAAwC;oEAC9D,IAAI;wEACF,MAAM,IAAA,2KAAM,EAAC,IAAA,wKAAG,EAAC,wIAAE,EAAE,iBAAiB,aAAa;4EAAE,OAAO,IAAA,8KAAS,EAAC,gBAAgB,IAAI,CAAC;wEAAG,GAAG;4EAAE,OAAO;wEAAK;oEACjH,EAAE,OAAO,OAAO;wEACd,QAAQ,KAAK,CAAC,yBAAyB;oEACzC;gEACF;gEACA,WAAW,CAAC,sEAAsE,EAAE,UAAU,0CAA0C,oCAAoC;;kFAE5K,0PAAC,yNAAK;wEAAC,WAAW,CAAC,QAAQ,EAAE,UAAU,iBAAiB,IAAI;;;;;;oEAC3D,UAAU,eAAe;;;;;;;0EAE5B,0PAAC;gEACC,SAAS;oEACP,IAAI,UAAU,KAAK,EAAE;wEACnB,IAAI;4EACF,MAAM,UAAU,KAAK,CAAC;gFACpB,OAAO,SAAS,IAAI,IAAI;gFACxB,MAAM,SAAS,WAAW,IAAI;gFAC9B,KAAK,OAAO,QAAQ,CAAC,IAAI;4EAC3B;wEACF,EAAE,OAAO,OAAO;4EACd,QAAQ,GAAG,CAAC;wEACd;oEACF,OAAO;wEACL,UAAU,SAAS,CAAC,SAAS,CAAC,OAAO,QAAQ,CAAC,IAAI;wEAClD,MAAM;oEACR;gEACF;gEACA,WAAU;;kFAEV,0PAAC,gOAAM;wEAAC,WAAU;;;;;;oEAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0CAU1C,0PAAC;gCAAI,WAAU;0CACb,cAAA,0PAAC;oCAAI,WAAU;;sDACb,0PAAC;4CAAG,WAAU;sDAA2C;;;;;;sDACzD,0PAAC;4CAAI,WAAU;;8DACb,0PAAC;oDAAI,WAAU;;sEACb,0PAAC;4DAAG,WAAU;sEAA4E;;;;;;wDAGzF,SAAS,OAAO,kBACf,0PAAC;4DAAI,WAAU;;8EACb,0PAAC;oEAAK,WAAU;8EAAwB;;;;;;8EACxC,0PAAC;oEAAK,WAAU;8EAAqC,SAAS,OAAO;;;;;;;;;;;;wDAGxE,CAAC,SAAS,iBAAiB,IAAI,SAAS,IAAI,mBAC3C,0PAAC;4DAAI,WAAU;;8EACb,0PAAC;oEAAK,WAAU;8EAAwB;;;;;;8EACxC,0PAAC;oEAAK,WAAU;;wEACb,SAAS,iBAAiB,IAAI,IAAI,KAAK,SAAS,IAAI,EAAE,WAAW;wEAAG;wEAAI,SAAS,eAAe,IAAI,SAAS,cAAc,IAAI;;;;;;;;;;;;;wDAIrI,SAAS,SAAS,kBACjB,0PAAC;4DAAI,WAAU;;8EACb,0PAAC;oEAAK,WAAU;8EAAwB;;;;;;8EACxC,0PAAC;oEAAK,WAAU;8EAAqC,SAAS,SAAS;;;;;;;;;;;;wDAG1E,SAAS,aAAa,kBACrB,0PAAC;4DAAI,WAAU;;8EACb,0PAAC;oEAAK,WAAU;8EAAwB;;;;;;8EACxC,0PAAC;oEAAK,WAAU;8EAAqC,SAAS,aAAa;;;;;;;;;;;;;;;;;;8DAKjF,0PAAC;oDAAI,WAAU;;sEACb,0PAAC;4DAAG,WAAU;sEAA4E;;;;;;wDAGzF,SAAS,SAAS,kBACjB,0PAAC;4DAAI,WAAU;;8EACb,0PAAC;oEAAK,WAAU;8EAAwB;;;;;;8EACxC,0PAAC;oEAAK,WAAU;8EAA+C,SAAS,SAAS;;;;;;;;;;;;wDAGnF,CAAC,SAAS,SAAS,IAAI,QAAQ,CAAC,kBAAkB,kBAClD,0PAAC;4DAAI,WAAU;;8EACb,0PAAC;oEAAK,WAAU;8EAAwB;;;;;;8EACxC,0PAAC;oEAAK,WAAU;8EAA+C,QAAQ,CAAC,kBAAkB;;;;;;;;;;;;wDAG7F,SAAS,SAAS,IAAI,CAAC,SAAS,SAAS,kBACxC,0PAAC;4DAAI,WAAU;;8EACb,0PAAC;oEAAK,WAAU;8EAAwB;;;;;;8EACxC,0PAAC;oEAAK,WAAU;8EAA+C,SAAS,SAAS;;;;;;;;;;;;wDAGpF,SAAS,UAAU,kBAClB,0PAAC;4DAAI,WAAU;;8EACb,0PAAC;oEAAK,WAAU;8EAAwB;;;;;;8EACxC,0PAAC;oEAAK,WAAU;8EAA+C,SAAS,UAAU;;;;;;;;;;;;wDAGrF,SAAS,IAAI,kBACZ,0PAAC;4DAAI,WAAU;;8EACb,0PAAC;oEAAK,WAAU;8EAAwB;;;;;;8EACxC,0PAAC;oEAAK,WAAU;8EAA+C,SAAS,IAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0CASxF,0PAAC;gCAAI,WAAU;0CACb,cAAA,0PAAC;oCAAI,WAAU;;sDACb,0PAAC;4CAAG,WAAU;sDAA2C;;;;;;sDACzD,0PAAC;4CAAI,WAAU;sDACZ,SAAS,WAAW,iBACnB,0PAAC;0DAAG,SAAS,WAAW;;;;;qEAExB,0PAAC;gDAAI,WAAU;;kEACb,0PAAC,sOAAQ;wDAAC,WAAU;;;;;;kEACpB,0PAAC;wDAAE,WAAU;kEAAgB;;;;;;kEAC7B,0PAAC;wDAAE,WAAU;kEAA6B;;;;;;;;;;;;;;;;;;;;;;;;;;;;4BAQnD,SAAS,KAAK,kBACb,0PAAC;gCAAI,WAAU;0CACb,cAAA,0PAAC;oCAAI,WAAU;;sDACb,0PAAC;4CAAG,WAAU;sDAA2C;;;;;;sDACzD,0PAAC;4CAAE,WAAU;sDAAiC,SAAS,KAAK;;;;;;;;;;;;;;;;;;;;;;;kCAOpE,0PAAC;wBAAI,WAAU;;0CAEb,0PAAC;gCAAI,WAAU;0CACb,cAAA,0PAAC;oCAAI,WAAU;;sDACb,0PAAC;4CAAG,WAAU;sDAA2C;;;;;;sDACzD,0PAAC;4CAAI,WAAU;;8DACb,0PAAC;oDAAI,WAAU;;sEACb,0PAAC,mNAAG;4DAAC,WAAU;;;;;;sEACf,0PAAC;4DAAK,WAAU;sEAAuB,SAAS,IAAI;;;;;;;;;;;;8DAEtD,0PAAC;oDAAI,WAAU;;sEACb,0PAAC,gOAAM;4DAAC,WAAU;;;;;;sEAClB,0PAAC;4DAAK,WAAU;sEAAW,SAAS,OAAO;;;;;;;;;;;;8DAE7C,0PAAC;oDAAI,WAAU;;sEACb,0PAAC,kOAAQ;4DAAC,WAAU;;;;;;sEACpB,0PAAC;4DAAK,WAAU;sEAAW,SAAS,IAAI,GAAG,IAAI,KAAK,SAAS,IAAI,EAAE,WAAW,KAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0CAO3F,0PAAC;gCAAI,WAAU;0CACb,cAAA,0PAAC;oCAAI,WAAU;;sDACb,0PAAC;4CAAG,WAAU;sDAA2C;;;;;;sDACzD,0PAAC;4CAAI,WAAU;;8DACb,0PAAC;oDACC,SAAS,IAAM,OAAO,OAAO,CAAC,IAAI;oDAClC,WAAU;8DACX;;;;;;8DAGD,0PAAC;oDACC,SAAS;wDACP;wDACA,IAAI;4DACF,MAAM,IAAA,2KAAM,EAAC,IAAA,wKAAG,EAAC,wIAAE,EAAE,iBAAiB,aAAa;gEAAE,WAAW,IAAA,8KAAS,EAAC;4DAAG,GAAG;gEAAE,OAAO;4DAAK;4DAC9F,SAAS,CAAA,OAAQ,CAAC;oEAAE,GAAG,IAAI;oEAAE,WAAW,KAAK,SAAS,GAAG;gEAAE,CAAC;wDAC9D,EAAE,OAAO,OAAO;4DACd,QAAQ,KAAK,CAAC,4BAA4B;wDAC5C;oDACF;oDACA,WAAU;;sEAEV,0PAAC,+NAAO;4DAAC,WAAU;;;;;;wDAAY;;;;;;;8DAGjC,0PAAC;oDACC,SAAS;wDACP,MAAM,eAAe,CAAC;wDACtB,UAAU;wDACV,aAAa,OAAO,CAAC,CAAC,KAAK,EAAE,YAAY,EAAE,OAAO;wDAClD,MAAM,eAAe,iCAAiC;oDACxD;oDACA,WAAW,CAAC,8EAA8E,EAAE,SAAS,gDAAgD,oCAAoC;;sEAEzL,0PAAC,mNAAG;4DAAC,WAAW,CAAC,QAAQ,EAAE,SAAS,iBAAiB,IAAI;;;;;;wDACxD,SAAS,oBAAoB;;;;;;;;;;;;;;;;;;;;;;;;0CAOtC,0PAAC;gCAAI,WAAU;0CACb,cAAA,0PAAC;oCAAI,WAAU;;sDACb,0PAAC;4CAAG,WAAU;sDAA2C;;;;;;sDACzD,0PAAC;4CAAI,WAAU;;8DACb,0PAAC;oDAAI,WAAU;;sEACb,0PAAC;4DAAK,WAAU;sEAAwB;;;;;;sEACxC,0PAAC;4DAAK,WAAU;sEAAqC,MAAM,KAAK,CAAC,cAAc;;;;;;;;;;;;8DAEjF,0PAAC;oDAAI,WAAU;;sEACb,0PAAC;4DAAK,WAAU;sEAAwB;;;;;;sEACxC,0PAAC;4DAAK,WAAU;sEAAqC,MAAM,SAAS,CAAC,cAAc;;;;;;;;;;;;8DAErF,0PAAC;oDAAI,WAAU;;sEACb,0PAAC;4DAAK,WAAU;sEAAwB;;;;;;sEACxC,0PAAC;4DAAK,WAAU;sEAAqC,MAAM,SAAS,CAAC,cAAc;;;;;;;;;;;;8DAErF,0PAAC;oDAAI,WAAU;;sEACb,0PAAC;4DAAK,WAAU;sEAAwB;;;;;;sEACxC,0PAAC;4DAAI,WAAU;;gEACZ;oEAAC;oEAAE;oEAAE;oEAAE;oEAAE;iEAAE,CAAC,GAAG,CAAC,CAAA,kBACf,0PAAC,sNAAI;wEAAS,WAAW,CAAC,QAAQ,EAAE,KAAK,KAAK,KAAK,CAAC,MAAM,MAAM,IAAI,iCAAiC,iBAAiB;uEAA3G;;;;;8EAEb,0PAAC;oEAAK,WAAU;8EAA8B,MAAM,MAAM,GAAG,IAAI,MAAM,MAAM,CAAC,OAAO,CAAC,KAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0CAQrG,0PAAC;gCAAI,WAAU;0CACb,cAAA,0PAAC;oCAAI,WAAU;;sDACb,0PAAC;4CAAG,WAAU;sDAA2C;;;;;;sDACzD,0PAAC;4CAAI,WAAU;sDACZ,iBAAiB,MAAM,GAAG,IACzB,iBAAiB,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,wBAChC,0PAAC;oDAEC,SAAS,IAAM,OAAO,QAAQ,CAAC,IAAI,GAAG,CAAC,UAAU,EAAE,QAAQ,EAAE,EAAE;oDAC/D,WAAU;;sEAEV,0PAAC;4DAAI,WAAU;sEACb,cAAA,0PAAC,6JAAY;gEACX,KAAK,QAAQ,KAAK,IAAI;gEACtB,KAAK,QAAQ,IAAI,IAAI;gEACrB,WAAU;;;;;;;;;;;sEAGd,0PAAC;4DAAI,WAAU;;8EACb,0PAAC;oEAAG,WAAU;8EAA8C,QAAQ,IAAI;;;;;;8EACxE,0PAAC;oEAAE,WAAU;8EAAoC,QAAQ,IAAI;;;;;;8EAC7D,0PAAC;oEAAE,WAAU;8EAAyB,QAAQ,OAAO;;;;;;;;;;;;;mDAdlD,QAAQ,EAAE;;;;0EAmBnB,0PAAC;gDAAI,WAAU;;kEACb,0PAAC,sOAAQ;wDAAC,WAAU;;;;;;kEACpB,0PAAC;wDAAE,WAAU;kEAAwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;0CAQ/C,0PAAC;gCAAI,WAAU;0CACb,cAAA,0PAAC;oCAAI,WAAU;;sDACb,0PAAC;4CAAG,WAAU;sDAA2C;;;;;;sDACzD,0PAAC;4CAAI,WAAU;sDACZ;gDACC;oDAAE,KAAK;oDAAW,MAAM,IAAA,sJAAa,EAAC;gDAAW;gDACjD;oDAAE,KAAK;oDAAW,MAAM,IAAA,sJAAa,EAAC;gDAAW;gDACjD;oDAAE,KAAK;oDAAW,MAAM,IAAA,sJAAa,EAAC;gDAAW;gDACjD;oDAAE,KAAK;oDAAW,MAAM,IAAA,sJAAa,EAAC;gDAAW;gDACjD;oDAAE,KAAK;oDAAW,MAAM,IAAA,sJAAa,EAAC;gDAAW;6CAClD,CAAC,GAAG,CAAC,CAAC;gDACL,MAAM,QAAQ,iBAAiB,MAAM,CAAC,CAAA,IAAK,EAAE,aAAa,KAAK,OAAO,GAAG,EAAE,MAAM;gDACjF,qBACE,0PAAC;oDAEC,SAAS,IAAM,OAAO,QAAQ,CAAC,IAAI,GAAG,CAAC,kBAAkB,EAAE,OAAO,GAAG,EAAE;oDACvE,WAAU;;sEAEV,0PAAC;4DAAK,WAAU;;gEAAyB,OAAO,IAAI,CAAC,SAAS,CAAC,GAAG;gEAAI;;;;;;;sEACtE,0PAAC;4DAAK,WAAU;sEAA8D,SAAS;;;;;;;mDALlF,OAAO,GAAG;;;;;4CAQrB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQhB"}}]
}